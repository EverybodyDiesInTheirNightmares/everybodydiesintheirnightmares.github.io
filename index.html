<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    
    <title>热河</title>
    <meta charset="utf-8">
    
    <meta name="title" content="热河">
    <meta name="description" content="">
    <meta property="og:image" content="/favicon.png">
    <meta property="og:image:width" content="200" />
    <meta property="og:image:height" content="200" />
    
    <link href="https://fonts.loli.net/css2?family=Source+Serif+Pro:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Source Serif Pro', 'Source Han Serif SC', 'Noto Serif CJK SC', 'Noto Serif SC', serif;
        }
    </style>
    <link rel="shortcut icon" href="/favicon.png">
    
    <link rel="stylesheet"
        href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/arduino-light.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    
    
<link rel="stylesheet" href="/css/style.css">

    
<script src="/js/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.1.1"><link rel="alternate" href="/atom.xml" title="热河" type="application/atom+xml">
</head>

<body>
    <header class="header">
    <div class="blog-title">
        <a href="/" class="logo">热河</a>
    </div>
    <nav class="navbar">
        <ul class="menu">
            
            
            
            <li class="menu-item">
                
                <a href="/" class="current-menu-item-link">主页</a>
                
            </li>
            
            
            
            <li class="menu-item">
                
                <a href="/archives" class="menu-item-link">归档</a>
                
            </li>
            
            
            
            <li class="menu-item">
                
                <a href="/about" class="menu-item-link">关于</a>
                
            </li>
            
            
            
            <li class="menu-item">
                
                <a href="/rss" class="menu-item-link">订阅</a>
                
            </li>
            
        </ul>
    </nav>
</header>
    <main class="main">
        <section class="posts">
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2021/05/19/clj/">法定妻子</a>
        </div>
        <div class="post-content">
            
            <blockquote>
<p>想吃酸奶，想喝泡鲁达，想起第二天️透过玻璃射进房间，想波光粼粼的湖面，想夕阳余晖撒在人来人往的大街上，想灯光照在行驶在山间的上，想阳光照射在我每一寸肌肤，想半个城市失去光明客厅总有盏灯在角落亮起，想模糊不清的每个片段，想小猫悄悄站在我的背后，想你，想脑壳贴在肩膀上，下次也要想和🦐哈酒。</p>
</blockquote>
<p>首先要说明的是「法定妻子」并非事实存在，也非一种客观上的诱使，只是在三月和四月突然想到的题目，当然，也非仅是题目。</p>
<p>上次在「呕吐物」中说到没有人帮我拔头发，时隔一年又半载，我找到了帮我拔头发的人。时至今日，她对我的意义早已超越拔头发。</p>
<p>这一年，「走过了人性的背后和白云苍狗」，「答案」也许终于「出现在了下一个车站」。没变的是我还在老地方，不过我即将「起程」，结束自己冗长的学生生涯，就在一月之后，写来还感到一阵清新的气息。</p>
<p>相识在依旧燥热的九月，奇怪虽然是同专业同学却从未曾谋面，</p>
<p>懒散的笔跟不上快速转动的粉丝木马，只好许愿美丽少点消逝，多点重聚。</p>
<p>最后，「法定妻子」于此只是「tattletale」的一个系列，是「北京小妞」，是「玉兔」，但于我而言，更是一种「希冀」。</p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二一年五月十九日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/12/05/jotting/">一次闲聊</a>
        </div>
        <div class="post-content">
            
            <h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><blockquote>
<p>感谢陈老让我有机会跟大家聊聊我大学期间的一些经历和经验，包括但不限于「大学四年的规划，每一年的学习，考证，比赛以及四六级考试，公务员准备」。当然，写作这篇博客的目的完全不是出于说教，大家权当看个故事。</p>
</blockquote>
<h3 id="规划"><a href="#规划" class="headerlink" title="规划"></a>规划</h3><p><strong>首先我个人认为大家应该先想清楚毕业以后从事什么样的工作，这一点至关重要。</strong>如果现在还没有一个明确的职业规划也没关系，我自己也是在大三才想清楚以后到底要干什么，不过能够越早<strong>开始</strong>规划就越好。这涉及到多方面的因素，故不做建议。我在大三之前都想做一个程序员，并且将主要精力放在了专业相关的事情上。后来由于种种因素，我决定考公务员或者事业编。</p>
<h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><p>如果你想从事本专业相关的工作并且打算深耕，我个人认为你需要将「算法、数据结构、计算机组成原理、操作系统、计算机网络」扎实地掌握，另外，你还需要花大量的时间编码和提高你的英文水平。我自己没有做到上述这些所以给不出太多的建议。</p>
<p>如果你想从事java（后端）开发，以下摘自实际岗位描述：</p>
<p>熟练使用Struts2/Spring/SpringMVC/MyBatis等常见框架；精通spring及相关生态组件，熟练掌握mybatis；精通socket编程、熟悉TCP、UDP网络通信协议；对JVM性能优化有深入认知；有多线程、高并发项目经验者优先。熟悉前端相关知识（html，javascript，Jquery）。<br>熟练掌握SQL server、Oracle、MySql等主流数据库。<br>熟悉消息中间件（ActiveMQ、RocketMQ、RabbitMQ、Kafka）等框架并且对原理有一定了解，缓存（Redis/Memcached/Ehcache）系统的机制以及使用，研究过源代码并有实际项目应用经验。<br>至少熟悉一种大数据处理技术，如Hadoop、Spark；掌握HBase、Redis、Elastic Search等开源大数据存储技术的开发实践，能够独立和带领团队进行项目开发，并能结合不同的业务场景深入使用。<br>精通常用的Linux命令;熟练配置和维护Nginx/Apache，Tomcat等Web或应用服务器。<br>掌握各类技术文档的编写和整理。有设计,调试接口的相关经验。</p>
<h3 id="考证"><a href="#考证" class="headerlink" title="考证"></a>考证</h3><p>我个人觉得没必要考太多证，如果你有这方面的需求且与计算机专业强相关，可以了解一下「ACM/MCM」，或者是在leetcode上多刷点题，或者在github上多提交几段代码。</p>
<p>另外，我推荐大家在大学期间取得「机动车驾驶证」和「红十字救护员证」。</p>
<h3 id="比赛"><a href="#比赛" class="headerlink" title="比赛"></a>比赛</h3><p>首当其冲推荐的是「ACM」即「国际大学生程序设计竞赛」，在计算机领域具有相当的含金量和相当的难度，如果你已经有所涉猎那么本文对你毫无价值。</p>
<p>紧接着是「蓝桥杯」，学院每年都会组织参加蓝桥杯，大家如果想参加比赛建议可以积极准备一下蓝桥杯。</p>
<p>其他比赛大家如果有精力也可以多多参与，出去长长见识总没坏处的。</p>
<h3 id="四六级考试"><a href="#四六级考试" class="headerlink" title="四六级考试"></a>四六级考试</h3><p>建议大家越早通过越好，且一定要有足够的重视，至少要通过四级。即使你不从事计算机行业，英文也很重要。关于英文的学习我也没有太多<strong>具体</strong>的建议，因为我学得比较早，所以感觉只要你投入相当程度的时间，那么语言的学习是没有想象中的那么难的。我目前仍然有阅读英文原版书籍的习惯，另外，如果你想提升自己的口语水平，可以尝试一个名叫「交流电」的app。</p>
<h3 id="体制相关"><a href="#体制相关" class="headerlink" title="体制相关"></a>体制相关</h3><p>公务员分为国考、省考、事业单位以及地方的一些考试，还有相关的「西部计划」和「三支一扶」等等。公务员考试主要需要学习的是行政职业能力测验和申论，行政职业能力测验主要包括常识判断、言语理解与表达、数量关系、判断推理和资料分析等部分，我个人认为其中的「言语理解、判断推理、资料分析」是需要扎实掌握的。我目前是跟着「粉笔」的课程在学习。</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>跟大家推荐一些相关的资源吧：</p>
<table>
<thead>
<tr>
<th>善用搜索引擎</th>
<th>google.com/dogedoge.com</th>
</tr>
</thead>
<tbody><tr>
<td>版本控制、代码管理和开源</td>
<td>git以及github.com</td>
</tr>
<tr>
<td>it知识问答</td>
<td>StackOverflow.com</td>
</tr>
<tr>
<td>如果你想玩玩物联网或者学习Linux</td>
<td>树莓派</td>
</tr>
<tr>
<td>java学习</td>
<td>how2j.cn</td>
</tr>
<tr>
<td>我每天逛的论坛（偏it）</td>
<td>v2ex.com</td>
</tr>
<tr>
<td>考公相关</td>
<td>粉笔网 fenbi.com</td>
</tr>
<tr>
<td></td>
<td>qzzn论坛 bbs.qzzn.com</td>
</tr>
</tbody></table>
<h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>其实看到这里大家也能感觉到本文没有直接提出一些具体的建议，也没有对你产生一些实质性的帮助。大家目前尚处大一，还有足够的时间去做自己想做的事，但是一定要珍惜时间，四年的时间真的很快很快，不管你做了什么到大四也一定是会后悔的，只是希望大家能够尽量让自己的时间变得有意义一点。我在大学期间加入了学校的网络运维中心以及甲骨文俱乐部，都给我带来了很多的帮助，以后大家看到他们招新且自己有兴趣的话也可以试着加入。我虽然在大学期间没有完整的读过几本书，但是我作为一个英雄联盟和csgo一千小时以上的玩家，真的在阅读的时间里感受到了不一样的快感，希望大家能够多去图书馆坐坐，也很推荐大家去学习一门乐器，弹吉他的时候我也感觉到很快乐。最后，希望大家珍惜时光，把身体锻炼好，尽量在大学期间养成运动习惯，珍惜身边人身边事，还有，不要在包括寝室之内的公共空间外放抖音。</p>
<p>如果有什么疑惑欢迎和我交流：gmail5[at]qq.com</p>
<p>以上，感谢阅读。</p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二〇年十二月五日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/08/31/20200831-update-record/">20200831更新记录</a>
        </div>
        <div class="post-content">
            
            <p>之前shiftDelete了博客主体文件，只好手动将网站恢复到了误删前的状态。</p>
<p>将saki.li更新到了最新的Seje。</p>
<p>移除了手动暗色模式按钮，Seje做了媒体查询和相关暗色模式适配。移除了pjax。部署了新的404页面。</p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二〇年八月三十一日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/05/26/simple-recommendersystem-practice/">基于协同过滤的音乐推荐系统实践</a>
        </div>
        <div class="post-content">
            
            <blockquote>
<p>废话：近年来，「人工智能/大数据/机器学习/区块链」等等词汇越发「甚嚣尘上」(误)。作为一个仅仅对web开发有些许了解并且不想成为码畜的普通计算机本科生，虽然顶着「计算机科学与技术」这样一个看似响亮的名号，但说实在的，我对上述词汇的认知可以说是「聊胜于无」(误)，直到本学期学校开了人工智能的相关课程，才逐渐对相关信息有所了解，也直到完成本次课程实践作业，我或许才算得上真正的入门「机器学习」。</p>
</blockquote>
<h3 id="项目背景"><a href="#项目背景" class="headerlink" title="项目背景"></a>项目背景</h3><blockquote>
<p>据报道 [1]，中国有超过 9.77 亿人每周都听音乐，而 66%的人通过流媒体来听音乐。为了 给用户提供更好的体验，如何为用户推荐喜爱的音乐就变得非常重要。本项目使用的数据 集来自 Last.fm 音乐网站 [2]，数据集在 2011 推荐系统会议(ACM RecSys)中发布。——人工智能实践课程项目一 音乐推荐系统</p>
</blockquote>
<blockquote>
<p>Recommenders: systems, sites and software that mine data to find stuff you’ll like——reddit</p>
</blockquote>
<blockquote>
<p>据报道，推荐系统给亚马逊带来了35%的销售收入，给Netflix带来了高达75%的消费，并且Youtube主页上60%的浏览来自推荐服务。——msra</p>
</blockquote>
<blockquote>
<p>完成课程目标(误，其实还是很感兴趣，不然也不会专门写博客) ——citizen5</p>
</blockquote>
<blockquote>
<p>通过本次项目实践，我们学会了如何为推荐系统预处理数据，通过相对简单的方法和第三方库实现了「协同过滤」和「随机梯度下降」，最终达到了普通人也能实现的「人工智能」。——总结</p>
</blockquote>
<h3 id="相关工作"><a href="#相关工作" class="headerlink" title="相关工作"></a>相关工作</h3><h6 id="什么是推荐系统"><a href="#什么是推荐系统" class="headerlink" title="什么是推荐系统"></a>什么是推荐系统</h6><blockquote>
<p><strong>推荐系统</strong>是一种信息过滤系统，用于预测用户对物品的“评分”或“偏好”。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-1">1]</a></p>
<p>推荐系统近年来非常流行，应用于各行各业。推荐的对象包括：电影、音乐、新闻、书籍、学术论文、搜索查询、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%88%86%E4%BC%97%E5%88%86%E7%B1%BB%E6%B3%95">分众分类</a>、以及其他产品。也有一些推荐系统专门为寻找专家[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-expertseer-2">2]</a>、合作者[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-collabseer-3">3]</a>、笑话、餐厅、美食、金融服务[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-financialrec-4">4]</a>、生命保险、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%B6%B2%E8%B7%AF%E4%BA%A4%E5%8F%8B">网络交友</a>，以及Twitter页面[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-twitterwtf-5">5]</a>设计。</p>
<p>推荐系统产生推荐列表的方式通常有两种：<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8D%94%E5%90%8C%E9%81%8E%E6%BF%BE">协同过滤</a>以及<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E5%9F%BA%E4%BA%8E%E5%86%85%E5%AE%B9%E6%8E%A8%E8%8D%90&action=edit&redlink=1">基于内容推荐</a>，或者基于个性化推荐。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-6">6]</a> <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8D%94%E5%90%8C%E9%81%8E%E6%BF%BE">协同过滤</a>方法根据用户历史行为（例如其购买的、选择的、评价过的物品等）结合其他用户的相似决策建立模型。这种模型可用于预测用户对哪些物品可能感兴趣（或用户对物品的感兴趣程度）。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-Recommender2010-7">7]</a> <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E5%9F%BA%E4%BA%8E%E5%86%85%E5%AE%B9%E6%8E%A8%E8%8D%90&action=edit&redlink=1">基于内容推荐</a>利用一些列有关物品的离散特征，推荐出具有类似性质的相似物品。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-mooney99-8">8]</a>两种方法经常互相结合（参考<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E6%B7%B7%E5%90%88%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F&action=edit&redlink=1">混合推荐系统</a>）</p>
<p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8D%94%E5%90%8C%E9%81%8E%E6%BF%BE">协同过滤</a>和<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E5%9F%BA%E4%BA%8E%E5%86%85%E5%AE%B9%E6%8E%A8%E8%8D%90&action=edit&redlink=1">基于内容推荐</a>的区别可以比较两个流行的音乐推荐系统 — <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Last.fm">Last.fm</a> 和 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Pandora_Radio">Pandora Radio</a>.</p>
<ul>
<li>Last.fm 建立通过观察用户日常收听的乐队或歌手，并与其它用户的行为进行比对，建立一个“电台”，以此推荐歌曲。Last.fm 会播放不在用户曲库中，但其他相似用户经常会播放的其它音乐。鉴于这种方式利用了用户行为，因此可以认为它是协同过滤技术的一种应用范例。</li>
<li>Pandora 使用歌曲或者艺人的属性（由<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E9%9F%B3%E4%B9%90%E6%B5%81%E6%B4%BE%E9%A1%B9%E7%9B%AE&action=edit&redlink=1">音乐流派项目</a>提供的400个属性的子集）从而生成一个电台，其中的乐曲都有相似的属性。用户的反馈用于精化电台中的内容。在用户“不喜欢”某一歌曲时，弱化某一些属性；在用户喜欢某一歌曲时，强化另一些属性。这是一种基于内容推荐的方式。</li>
</ul>
<p>每一种系统都有其长处与弱点。在上面的例子中，为了提供精准推荐，Last.fm 需要大量用户信息。这是一个<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%86%B7%E5%95%9F%E5%8B%95">冷启动</a>问题，在协同过滤系统中是常见的问题[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-rubens2016-9">9]</a>[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-elahi2016-10">10]</a>[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E8%96%A6%E7%B3%BB%E7%B5%B1#cite_note-schein02-11">11]</a>。而 Pandora 启动时则仅需要很少信息，然而这种方法的局限性很大（例如，这类方法只能得出与原始种子相似的推荐）。</p>
<p>推荐系统是一种有效代替搜索算法的方式，因为他们帮助用户找到一些他们自己没有办法找到的物品。有趣的是，推荐系统在实现之时通常使用搜索引擎对非传统数据索引。——Wikipedia</p>
</blockquote>
<h6 id="推荐系统常用算法"><a href="#推荐系统常用算法" class="headerlink" title="推荐系统常用算法"></a>推荐系统常用算法</h6><blockquote>
<p>常用的推荐系统算法有五种，每一种都有其优点，不同场景下每一种算法效果会不一样。——zhan-bin</p>
<ul>
<li>1.基于内容的推荐</li>
<li>2.协同过滤推荐</li>
<li>3.基于关联规则的推荐</li>
<li>4.基于知识的推荐</li>
<li>5.混合推荐</li>
</ul>
</blockquote>
<h3 id="实验方法"><a href="#实验方法" class="headerlink" title="实验方法"></a>实验方法</h3><h6 id="推荐方法选型"><a href="#推荐方法选型" class="headerlink" title="推荐方法选型"></a>推荐方法选型</h6><p>在经过大量的资料查阅和长期的小组讨论后，我们最终决定采用「Collaborative Filtering」即「协同过滤」的推荐方法。</p>
<blockquote>
<p><strong>协同过滤</strong>，简单来说是利用某兴趣相投、拥有共同经验之群体的喜好来推荐用户感兴趣的信息，个人透过合作的机制给予信息相当程度的回应（如评分）并记录下来以达到过滤的目的进而帮助别人筛选信息，回应不一定局限于特别感兴趣的，特别不感兴趣信息的纪录也相当重要。协同过滤又可分为<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E8%A9%95%E6%AF%94&action=edit&redlink=1">评比</a>（rating）或者<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/w/index.php?title=%E7%BE%A4%E9%AB%94%E9%81%8E%E6%BF%BE&action=edit&redlink=1">群体过滤</a>（social filtering）。其后成为电子商务当中很重要的一环，即根据某顾客以往的购买行为以及从具有相似购买行为的顾客群的购买行为去推荐这个顾客其“可能喜欢的品项”，也就是借由社群的喜好提供个人化的信息、商品等的推荐服务。——Wikipedia</p>
</blockquote>
<p>我认为，通俗的来说，你可以这样理解协同过滤：在一个无聊的漫漫长夜里，你难以入睡并打开了某听歌软件，面对如此庞大的曲库你不知道要听些什么歌来衬托黑夜。这时，或许具备传说中「artificial intelligence」能力的听歌软件会获取和你具有相似行为的用户信息，又或许它获取了你对哪些歌曲点过红心，从而根据上述两种方式找到你或许会喜欢的歌曲。「伟大的协同过滤诞生了」。</p>
<blockquote>
<p>A lot of research has been done on collaborative filtering (CF), and most popular approaches are based on <strong>low-dimensional factor models</strong> (model based matrix factorization. I will discuss these in detail). The CF techniques are broadly divided into 2-types:——<a target="_blank" rel="noopener" href="https://towardsdatascience.com/@pgrover3?source=post_page-----100385c6dfe0----------------------">Prince Grover</a></p>
</blockquote>
<p>在查阅众多资料后，我认为协同过滤可以分为 两个大类：基于记忆「memory」的协同过滤（不知道怎么翻译更准确）和基于模型的协同过滤。而「Memory-Based Collaborative Filtering」，正是我在前文中所提到的「user-item filtering」和「 item-item filtering」，在此就不再引例。</p>
<p>而「基于模型的协同过滤」又基于「 matrix factorization」即「矩阵分解」，矩阵分解被用作一种在潜在变量分解和降维时的无人监管的学习方法，他比「Memory-Based Collaborative Filtering」更具有可扩展性和稀疏性。在查了矩阵分解的定义后我逐渐明白了到底什么是「基于模型的协同过滤」，但又被众多的定义和术语搞得云里雾里。那么有了矩阵分解或者说是「基于模型的协同过滤」后我们到底能做些什么呢？简而言之，我们可以通过「预测」的方式来模拟原始矩阵中的缺失条目，也就是下文中即将提到的「ratings」。</p>
<blockquote>
<h2 id="Collaborative-Filtering-CF"><a href="#Collaborative-Filtering-CF" class="headerlink" title="Collaborative Filtering (CF)"></a>Collaborative Filtering (CF)</h2><h3 id="Memory-Based-Collaborative-Filtering"><a href="#Memory-Based-Collaborative-Filtering" class="headerlink" title="Memory-Based Collaborative Filtering"></a>Memory-Based Collaborative Filtering</h3><p>Memory-Based CF methods can be divided into two sections: user-item filtering and item-item filtering. Here is the difference:</p>
<ul>
<li>Item-Item Collaborative Filtering: “Users who liked this item also liked …”</li>
<li>User-Item Collaborative Filtering: “Users who are similar to you (kinda like the twin you never knew you had) also liked …”</li>
</ul>
<p>Both methods require user-item matrix that contain the ratings for user u<em>u</em> for item i<em>i</em>. From that, you can calculate the similarity matrix.</p>
<p>The similarity values in Item-Item Collaborative Filtering are calculated by taking into account all users who have rated a pair of items.</p>
<p>For User-Item Collaborative Filtering, the similarity values are calculated by observing all items that are rated by a pair of users.</p>
<h3 id="Model-Based-Collaborative-Filtering"><a href="#Model-Based-Collaborative-Filtering" class="headerlink" title="Model-Based Collaborative Filtering"></a>Model-Based Collaborative Filtering</h3><p>Model-based CF methods are based on <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Matrix_factorization_(recommender_systems)">matrix factorization (MF)</a>. MF methods are used as an unsupervised learning method for latent variable decomposition and dimensionality reduction. They can handle scalability and sparsity problems better than Memory-based CF.</p>
<p>The goal of MF is to learn latent user preferences and item attributes from known ratings. Then use those variable to predict unknown ratings through the dot product of the latent features of users and items.</p>
<p>Matrix factorization restructures the user-item matrix into a low-rank matrix. You can represent it by the multiplication of two low-rank matrices, where the rows contain a vector of latent variables. You want this matrix to approximate the original matrix, as closely as possible, by multiplying the low-rank matrices together. That way, you predict the missing entries in the original matrix.</p>
</blockquote>
<h6 id="引用第三方库"><a href="#引用第三方库" class="headerlink" title="引用第三方库"></a>引用第三方库</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import graphlab as gl</span><br><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line">import math</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line">from sklearn.metrics import accuracy_score</span><br><span class="line">from math import sqrt</span><br><span class="line">from sklearn.metrics import mean_squared_error</span><br></pre></td></tr></table></figure>

<h6 id="导入last-fm数据集并作预处理"><a href="#导入last-fm数据集并作预处理" class="headerlink" title="导入last.fm数据集并作预处理"></a>导入last.fm数据集并作预处理</h6><p>使用pd.read_csv()导入user_artists.dat和artists.dat，并将两个dframe合并为一个新的dframe:「ap」，并将weight重命名为playcount。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">plays &#x3D; pd.read_csv(&#39;C:\Users\Eric000\dataSets\dat\user_artists.dat&#39;, sep&#x3D;&#39;\t&#39;)</span><br><span class="line">artists &#x3D; pd.read_csv(&#39;artists.dat&#39;,sep&#x3D;&#39;\t&#39;)</span><br><span class="line"></span><br><span class="line">ap &#x3D; pd.merge(</span><br><span class="line">  artists, plays,</span><br><span class="line">  how&#x3D;&quot;inner&quot;,</span><br><span class="line">  left_on&#x3D;&quot;id&quot;,</span><br><span class="line">  right_on&#x3D;&quot;artistID&quot;</span><br><span class="line">)</span><br><span class="line">ap &#x3D; ap.rename(columns&#x3D;&#123;&quot;weight&quot;: &quot;playCount&quot;&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h6><p>通过pandas的groupby()对播放量的相关信息进行处理，并按照playCount降序排列。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">artist_rank &#x3D; ap.groupby([&#39;name&#39;]) \</span><br><span class="line">  .agg(&#123;&#39;userID&#39; : &#39;count&#39;, &#39;playCount&#39; : &#39;sum&#39;&#125;) \</span><br><span class="line">  .rename(columns&#x3D;&#123;&quot;userID&quot; : &#39;totalUniqueUsers&#39;, &quot;playCount&quot; : &quot;totalArtistPlays&quot;&#125;) \</span><br><span class="line">  .sort_values([&#39;totalArtistPlays&#39;], ascending&#x3D;False)</span><br><span class="line">artist_rank[&#39;avgUserPlays&#39;] &#x3D; artist_rank[&#39;totalArtistPlays&#39;] &#x2F; artist_rank[&#39;totalUniqueUsers&#39;]</span><br><span class="line"></span><br><span class="line">ap &#x3D; ap.join(artist_rank, on&#x3D;&quot;name&quot;, how&#x3D;&quot;inner&quot;) \</span><br><span class="line">  .sort_values([&#39;playCount&#39;], ascending&#x3D;False)</span><br></pre></td></tr></table></figure>

<h6 id="graphlab入场"><a href="#graphlab入场" class="headerlink" title="graphlab入场"></a>graphlab入场</h6><p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ap.to_csv(&#39;artistsANDplays.csv&#39;)</span><br><span class="line"></span><br><span class="line">sf &#x3D; gl.SFrame(&#39;artistsANDplays.csv&#39;)</span><br><span class="line">sf.remove_columns([&#39;X1&#39;,&#39;id&#39;,&#39;url&#39;, &#39;pictureURL&#39;])</span><br></pre></td></tr></table></figure>

<p>将dfrmae输出为「artistsANDplays.csv」并实例化一个sFrme对象sf，通过remove_columns()删除暂时用不到的数据。</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/1.png" alt="1"></p>
<h6 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h6><p>通过graphlab的canvas，我们可以非常容易地对数据进行可视化处理，这将及其简化我们的工作，不得不再次感叹python强大的工具库。</p>
<p>我们只需要将处理后的数据实例化为一个SFrame对象，即可通过鼠标的交互得到我们想要的可视化结果，免于手动使用代码绘制图像。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sf.show()</span><br></pre></td></tr></table></figure>

<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/2.png" alt="2"></p>
<p>总览</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/3.png" alt="3"></p>
<p>总播放量对应的歌手</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/image-20200602220058235.png" alt="image-20200602220058235"></p>
<p>有多少独立用户听过对应歌手的歌</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/image-20200602220214830.png" alt="image-20200602220214830"></p>
<p>通过独立用户和总播放量的对应关系基本可以看出歌手的流行程度</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/image-20200602220506766.png" alt="image-20200602220506766"></p>
<h6 id="推荐系统实现"><a href="#推荐系统实现" class="headerlink" title="推荐系统实现"></a>推荐系统实现</h6><p>为了实现协同过滤，我们将ap中的playCount转换为了一个矩阵，在处理过playCount以及通过assign和pivot两个方法后重新塑造dataframe后，「ratings」的概念逐渐清晰，我们将ratings赋值与[0-1]之间，基于原始数据的playCount构建了一个评价体系，并用0补齐数据缺失的地方。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pc &#x3D; ap.playCount</span><br><span class="line">play_count_scaled &#x3D; (pc - pc.min()) &#x2F; (pc.max() - pc.min())</span><br><span class="line">ap &#x3D; ap.assign(playCountScaled&#x3D;play_count_scaled)</span><br><span class="line"></span><br><span class="line">ratings_df &#x3D; ap.pivot(</span><br><span class="line">    index&#x3D;&#39;userID&#39;,</span><br><span class="line">    columns&#x3D;&#39;artistID&#39;,</span><br><span class="line">    values&#x3D;&#39;playCountScaled&#39;</span><br><span class="line">)</span><br><span class="line">ratings &#x3D; ratings_df.fillna(0).values</span><br></pre></td></tr></table></figure>

<p>计算ratings矩阵的稀疏度</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sparsity &#x3D; float(len(ratings.nonzero()[0]))</span><br><span class="line">sparsity &#x2F;&#x3D; (ratings.shape[0] * ratings.shape[1])</span><br><span class="line">sparsity *&#x3D; 100</span><br><span class="line">print(&#39;&#123;:.2f&#125;%&#39;.format(sparsity))</span><br></pre></td></tr></table></figure>

<p>接下来我们通过重写后的sklearn.model_selection的train_test_split将ratings分为「训练组」和「校验组」，并用0代替了一些参考价值不大的rating。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">train, val &#x3D; train_test_split(ratings)</span><br><span class="line"></span><br><span class="line">MIN_USER_RATINGS &#x3D; 35</span><br><span class="line">DELETE_RATING_COUNT &#x3D; 15</span><br><span class="line">def train_test_split(ratings):</span><br><span class="line">    validation &#x3D; np.zeros(ratings.shape)</span><br><span class="line">    train &#x3D; ratings.copy()</span><br><span class="line">    for user in np.arange(ratings.shape[0]):</span><br><span class="line">        if len(ratings[user,:].nonzero()[0]) &gt;&#x3D; MIN_USER_RATINGS:</span><br><span class="line">            val_ratings &#x3D; np.random.choice(</span><br><span class="line">              ratings[user, :].nonzero()[0],</span><br><span class="line">              size&#x3D;DELETE_RATING_COUNT,</span><br><span class="line">              replace&#x3D;False</span><br><span class="line">            )</span><br><span class="line">            train[user, val_ratings] &#x3D; 0</span><br><span class="line">            validation[user, val_ratings] &#x3D; ratings[user, val_ratings]</span><br><span class="line">    return train, validation</span><br></pre></td></tr></table></figure>

<h6 id="测量误差"><a href="#测量误差" class="headerlink" title="测量误差"></a>测量误差</h6><p>我们采用「RMSE」即「均方根误差」来测量误差，通过这一算法，我们对真值和预测值的偏差有了一个大概的认识。</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/image-20200602220925621.png" alt="image-20200602220925621"></p>
<h6 id="训练推荐系统"><a href="#训练推荐系统" class="headerlink" title="训练推荐系统"></a>训练推荐系统</h6><p>使用「SGD」即「随机梯度下降」训练，赋予未知对象预测值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">def fit(self, X_train, X_val):</span><br><span class="line">  m, n &#x3D; X_train.shape</span><br><span class="line">  self.P &#x3D; 3 * np.random.rand(self.n_latent_features, m)</span><br><span class="line">  self.Q &#x3D; 3 * np.random.rand(self.n_latent_features, n)</span><br><span class="line">  self.train_error &#x3D; []</span><br><span class="line">  self.val_error &#x3D; []</span><br><span class="line">  users, items &#x3D; X_train.nonzero()</span><br><span class="line">  for epoch in range(self.n_epochs):</span><br><span class="line">      for u, i in zip(users, items):</span><br><span class="line">          error &#x3D; X_train[u, i] - self.predictions(self.P[:,u], self.Q[:,i])</span><br><span class="line">          self.P[:, u] +&#x3D; self.learning_rate * \</span><br><span class="line">           (error * self.Q[:, i] - self.lmbda * self.P[:, u])</span><br><span class="line">          self.Q[:, i] +&#x3D; self.learning_rate * \</span><br><span class="line">           (error * self.P[:, u] - self.lmbda * self.Q[:, i])</span><br><span class="line">      train_rmse &#x3D; rmse(self.predictions(self.P, self.Q), X_train)</span><br><span class="line">      val_rmse &#x3D; rmse(self.predictions(self.P, self.Q), X_val)</span><br><span class="line">      self.train_error.append(train_rmse)</span><br><span class="line">      self.val_error.append(val_rmse)</span><br></pre></td></tr></table></figure>

<h3 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h3><h6 id="评估推荐结果"><a href="#评估推荐结果" class="headerlink" title="评估推荐结果"></a>评估推荐结果</h6><p>在使用RMSE比较训练组和校验组，并且通过SGD训练模型之后，我们很直观的发现两个对照组之间的差距越来越小，训练时间与预测误差呈反比例关系，即训练时间越长，误差就越小。这也是我们推荐系统的<strong>评价标准</strong>，简而言之，当「训练组」和「校验组」的差距越来越小（即二者的重合程度越来越大时），我们的推荐系统也就越精确，即项目要求文档中的「<strong>推荐的精确度</strong>」。</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/image-20200603100501243.png" alt="image-20200603100501243">·</p>
<h6 id="做出最后的推荐"><a href="#做出最后的推荐" class="headerlink" title="做出最后的推荐"></a>做出最后的推荐</h6><p>还记得上文中我们将矩阵中的一些对象置零吗，接下来，我们将用推荐系统获得的预测值将这些稀疏矩阵填充。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def predict(self, X_train, user_index):</span><br><span class="line">  y_hat &#x3D; self.predictions(self.P, self.Q)</span><br><span class="line">  predictions_index &#x3D; np.where(X_train[user_index, :] &#x3D;&#x3D; 0)[0]</span><br><span class="line">  return y_hat[user_index, predictions_index].flatten()</span><br></pre></td></tr></table></figure>

<p>这是预测前的结果</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/image-20200602220555572.png" alt="image-20200602220555572"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">user_id &#x3D; 999</span><br><span class="line">user_index &#x3D; ratings_df.index.get_loc(user_id)</span><br><span class="line">predictions_index &#x3D; np.where(train[user_index, :] &#x3D;&#x3D; 0)[0]</span><br><span class="line">rating_predictions &#x3D; recommender.predict(train, user_index)</span><br><span class="line">existing_ratings_index &#x3D; np.where(train[user_index, :] &gt; 0)[0]</span><br><span class="line">existing_ratings &#x3D; train[user_index, existing_ratings_index]</span><br><span class="line">create_artist_ratings(</span><br><span class="line">  artists,</span><br><span class="line">  existing_ratings_index,</span><br><span class="line">  existing_ratings</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>这是预测后的结果</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200526/image-20200602220616046.png" alt="image-20200602220616046"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create_artist_ratings(</span><br><span class="line">  artists,</span><br><span class="line">  predictions_index,</span><br><span class="line">  rating_predictions</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>可以看出，id为999的用户，说不定不只是ColdPlay的忠实听众，Minnie Riperton或许也能让他在某个暗流涌动的寂寞之夜产生感官的愉悦。</p>
<p>「伟大的推荐系统诞生了」。</p>
<h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><p>[1] pandas-docs <a target="_blank" rel="noopener" href="https://pandas.pydata.org/pandas-docs">https://pandas.pydata.org/pandas-docs</a></p>
<p>[2] graphlab-docs <a target="_blank" rel="noopener" href="https://turi.com/products/create/docs/index.html">https://turi.com/products/create/docs/index.html</a></p>
<p>[3] Wikipedia</p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Root-mean-square_deviation">https://en.wikipedia.org/wiki/Root-mean-square_deviation</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Stochastic_gradient_descent">https://en.wikipedia.org/wiki/Stochastic_gradient_descent</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/SGD_(disambiguation)">https://en.wikipedia.org/wiki/SGD_(disambiguation)</a></p>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Recommender_system">https://en.wikipedia.org/wiki/Recommender_system</a></p>
<p>and so on</p>
<p>[4] smartweed <a target="_blank" rel="noopener" href="https://www.cnblogs.com/smartweed/p/7210689.html">https://www.cnblogs.com/smartweed/p/7210689.html</a></p>
<p>[5] lastfm <a target="_blank" rel="noopener" href="https://www.last.fm/">https://www.last.fm/</a>.</p>
<p>[6] googlecolab <a target="_blank" rel="noopener" href="https://colab.research.google.com/">https://colab.research.google.com/</a></p>
<p>[7] google Scholar <a target="_blank" rel="noopener" href="https://scholar.google.com/">https://scholar.google.com</a></p>
<p>[8] StackOverflow</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/33000061/graphlab-create-canopy-runtime-exception-unable-to-evaluate-lambdas">https://stackoverflow.com/questions/33000061/graphlab-create-canopy-runtime-exception-unable-to-evaluate-lambdas</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38983295/issues-downloading-graphlab-dependencies-get-dependencies?r=SearchResults">https://stackoverflow.com/questions/38983295/issues-downloading-graphlab-dependencies-get-dependencies?r=SearchResults</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/search?q=Downloading+xz">https://stackoverflow.com/search?q=Downloading+xz</a>.</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/44994717/import-graphlab-does-not-work-properly/45596896?r=SearchResults&amp;s=6">https://stackoverflow.com/questions/44994717/import-graphlab-does-not-work-properly/45596896?r=SearchResults&amp;s=6</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/25960070/graphlab-create-importerror-no-module-named-graphlab">https://stackoverflow.com/questions/25960070/graphlab-create-importerror-no-module-named-graphlab</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38938236/attributeerror-module-object-has-no-attribute-sframe">https://stackoverflow.com/questions/38938236/attributeerror-module-object-has-no-attribute-sframe</a></p>
<p>and so on</p>
<p>[9] Music artist Recommender System using Stochastic Gradient Descent | Machine Learning from Scratch <a target="_blank" rel="noopener" href="https://www.curiousily.com/posts/music-artist-recommender-system-using-stochastic-gradient-descent/">https://www.curiousily.com/posts/music-artist-recommender-system-using-stochastic-gradient-descent/</a></p>
<p>[10] Various Implementations of Collaborative Filtering <a target="_blank" rel="noopener" href="https://towardsdatascience.com/various-implementations-of-collaborative-filtering-100385c6dfe0">https://towardsdatascience.com/various-implementations-of-collaborative-filtering-100385c6dfe0</a></p>
<p>[11] v2ex <a target="_blank" rel="noopener" href="https://v2ex.com/">https://v2ex.com</a></p>
<p>[12] github <a target="_blank" rel="noopener" href="https://github.com/">https://github.com</a></p>
<p>[13] Music Recommendation <a target="_blank" rel="noopener" href="https://www.kaggle.com/myonin/music-recommendation-random-forest-xgboost">https://www.kaggle.com/myonin/music-recommendation-random-forest-xgboost</a></p>
<p>[14] surprise-docs <a target="_blank" rel="noopener" href="https://surprise.readthedocs.io/en/stable/">https://surprise.readthedocs.io/en/stable/</a></p>
<p>[15] Building the optimal Book Recommender and measuring the role of Book Covers in predicting user ratings</p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二〇年五月廿六日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/04/25/preference&right&power/">偏好与权利及权力</a>
        </div>
        <div class="post-content">
            
            <p>阿城「中国当代作家，非哈尔滨市阿城区」在「爱情与化学」中说：</p>
<blockquote>
<p>《爱情与化学》</p>
<p>这个题目换成“化学与爱情”，也无所谓。不过，我们的秩序文化里，比如官场中接见时的名次序列，认为排在前面的一定高贵，或者比较重要，就好像判死刑之后，最先拉出去枪毙的总应该是首犯吧。鲁迅先生有过一个讲演，题目是《魏晋风度与药及酒的关系》，很少有人认为其中三者的关系是平等的，魏晋风度总是比较重要的吧。因此，把“爱情”放在前面，无非是容易被注意，查一下页数，翻到了，看下去，虽然看完了的感想可能是“煞风景”。</p>
</blockquote>
<p>那么本文写作「权利与偏好及权力」，「权力与偏好及权利」或者6种排列中的任意一种，「也无所谓」。不过本文的写作灵感抽象后的顺序即为偏好→权利→权力，题目由此而来。</p>
<p>昨天和我爸在超市买了很多东西，顺便一提，蜀大侠的番茄锅底是真的很淡。其中五花肉花费69￥，由我爸通过微信完成支付。毫无疑问，这块五花肉的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%89%80%E6%9C%89%E6%9D%83">所有权</a>隶属于我爸，这是前提。</p>
<p>今天，我爸做了他概念中的「回锅肉」，制作过程在此不表，制作的结果也与以往差别不大，即是连炒锅上桌，很多油，整体趋于黑色化，猪皮很硬，较大量白糖和豆瓣、豆豉带来的甜咸味，我的食欲也与以往差别不大。不过似乎我和我爸也对这种场景都已形成了下意识反应，他比我更先采用了「玷污」一词，「难道我又玷污了这块肉？」但我却与以往差别较大，我真的有「权利」表达我爸「浪费」了这块肉吗？很显然，我没有，这是「所有权」上的没有。</p>
<blockquote>
<p>「偏好」是实际潜藏在人们内心的一种情感和倾向，它是非直观的，引起偏好的感性因素多于理性因素。偏好有明显的个体差异，也呈现出群体特征。在<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%BE%AE%E8%A7%82%E7%BB%8F%E6%B5%8E%E5%AD%A6">微观经济学</a>价值理论中，偏好是价值上相对主观的一个概念，指消费者按照自己的意愿对可供选择的商品组合进行的排列。</p>
</blockquote>
<p>「引起偏好的感性因素多于理性因素，偏好有明显的个体差异，也呈现出群体特征」。我爸有对他所制作的回锅肉的「偏好」，我也有对他所制作的回锅肉的「偏好」，显而易见，我们的「偏好」并不相同，就算是我妈和我的「偏好」基本一致，但是「这世上没有人和我爸同一阵营」是永假的，所以我也没有「偏好」上的「权利」去指责，我所能做的只能是不认同。简而言之，我爸享有这块肉的「所有权」，以及狭义的「使用权」和「支配权」以及「无可置疑权」。</p>
<p>那么假设我爸不认可我的「偏好」，甚至直接无视和践踏我的「偏好」，强制将食物置于我的胃中，那么即是形成了一种「宰制（domination）与被宰制关系」，在反对情况下仍能实现自己意志的能力（米尔斯）。即为权力。权力具有强制性，很显然，人类社会始终会存在权力滥用的事实。</p>
<p>对此，我与我爸及我们都无能无力。</p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二〇年四月廿五日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/04/08/detachment/">超脱</a>
        </div>
        <div class="post-content">
            
            <blockquote>
<p>Et jamais je n’ai senti, si avant, à la fois mon détachement demoi-même et ma présence au monde.——Albert Camus《Le vent à Djémila》</p>
</blockquote>
<p>Also known as</p>
<blockquote>
<p>I have never felt so deeply that I am far apart from the soul, but my existence is so real.</p>
</blockquote>
<p>「我的灵魂与我之间的距离如此遥远，而我的存在却如此真实。」</p>
<p>First of all I’d like to mention that most of the writings here is not regular.I used to think about adapting the I18N「internationalization」but I won’t.The reason is quite simple cause i dont wanana(now).Lots of times I spoke to myself in English,both pronouncedly and silently.Just like at this moment I wrote in English but I will express the remaining content with Mandarin.</p>
<p>Alright，我发现自己使用「Alright」的次数越来越多了，both pronouncedly and silently,still.我认为这是件好事，或许这代表着自己正在逐步接受当下发生的事实，或许没办法能那么快抽身出去，不过或许能够在一定程度上控制自己的情绪，<em>Listen,I wanana say control my temper but seems that thats Chinglish maybe idont know fuck ha. Alright,listen I wont care about your feelings cause i got mental disease(I mean in my website’s writings <strong>only</strong>).</em></p>
<p>我只是在试着将自己拽到超脱的状态中。</p>
<p><strong>“Detachment.”</strong></p>
<p>就像电影里片名出现时往往代表着正片开始，本文亦如此，想象一下，I believe u’ll make it.</p>
<hr>
<blockquote>
<p>本段或作为结尾 It’s like you said we’re brought up to this, there is nothing left, nothing but to realize and how fuck up the things are. It’s not enough, I won’t last.<br>Listen to me, just listen. We are all the same, we all feel pain, and we all have chaos in our life. Life is very very confusing, I know. I don’t have the answers, but I know if you write it out, it all be okay.</p>
</blockquote>
<p>Thats what im doing now</p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二〇年四月八日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/04/03/customized-installation4-Ubuntu-on-win10-with-wsl/">win10下通过wsl自定义安装ubuntu及图形界面</a>
        </div>
        <div class="post-content">
            
            <blockquote>
<p>由于各种各样的原因无法完全从Windows转向Linux，在尝试过双系统、VMware以及Hyper-V后，我个人感觉双系统便利性不高，而虚拟化技术资源占用较高，于是便想到了wsl。众所周知，「Windows Subsystem for Linux」即「windows下的Linux子系统」已经问世相当一段时间。作为微软与Canonical公司合作开发的兼容层，我(主观)认为wsl对Ubuntu的支持及优化可能要胜于其他Linux发行版，于是在考虑过微软官方列出的支持发行版本后，选择了Ubuntu。题外话，我认为人们在选择操作系统时应完全按照自己的意愿及使用习惯，对于所谓的操作系统鄙视链我本人嗤之以鼻。</p>
</blockquote>
<h2 id="安装环境及准备"><a href="#安装环境及准备" class="headerlink" title="安装环境及准备"></a>安装环境及准备</h2><table>
<thead>
<tr>
<th>Item</th>
<th>Location</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>Windows Subsystem for Linux</td>
<td>启用或关闭Windows功能</td>
<td>开启wsl</td>
</tr>
<tr>
<td>目标系统镜像</td>
<td><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/wsl/install-manual">Microsoft</a></td>
<td>Manually download Windows Subsystem for Linux distro packages</td>
</tr>
<tr>
<td>LxRunOffline</td>
<td><a target="_blank" rel="noopener" href="https://github.com/DDoSolitary/LxRunOffline">Github</a></td>
<td>A full-featured utility for managing Windows Subsystem for Linux (WSL)，用于自定义安装路径</td>
</tr>
</tbody></table>
<h2 id="开启wsl"><a href="#开启wsl" class="headerlink" title="开启wsl"></a>开启wsl</h2><blockquote>
<p>使用Cortana搜索「程序和功能」→启用或关闭Windows功能</p>
<p>设置→应用→程序和功能→启用或关闭Windows功能</p>
</blockquote>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200403/image-20200403201409330.png" alt="image-20200403201409330"></p>
<p>等待重启。</p>
<h2 id="安装LxRunOffline"><a href="#安装LxRunOffline" class="headerlink" title="安装LxRunOffline"></a>安装LxRunOffline</h2><p>参见<a target="_blank" rel="noopener" href="https://github.com/DDoSolitary/LxRunOffline/wiki">官方Wiki</a></p>
<blockquote>
<p>You can install via Chocolatey <code>choco install lxrunoffline</code>, Scoop <code>scoop bucket add extras</code>, <code>scoop install lxrunoffline</code>, or download the binaries directly:</p>
<ul>
<li>Latest releases: <a target="_blank" rel="noopener" href="https://github.com/DDoSolitary/LxRunOffline/releases">https://github.com/DDoSolitary/LxRunOffline/releases</a></li>
<li>Development builds: <a target="_blank" rel="noopener" href="https://dl.bintray.com/ddosolitary/dev-releases/LxRunOffline/">https://dl.bintray.com/ddosolitary/dev-releases/LxRunOffline/</a></li>
</ul>
</blockquote>
<p>在此我选择直接下载解压，从<a target="_blank" rel="noopener" href="https://github.com/DDoSolitary/LxRunOffline/releases">Github release</a>下载后解压得到「LxRunOffline.exe」即可。</p>
<h2 id="安装Ubuntu"><a href="#安装Ubuntu" class="headerlink" title="安装Ubuntu"></a>安装Ubuntu</h2><p><strong>获取安装包</strong></p>
<p>更改准备好的Ubuntu镜像文件拓展名为「.zip」，解压后得到「install.tar.gz」</p>
<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200403/image-20200403203132739.png" alt="image-20200403203132739"></p>
<blockquote>
<p>Run the following command once <code>LxRunOffline</code> is registered to the OS:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LxRunOffline i -n UF -d c:\WSL\UFull -f  -s</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>安装</strong></p>
<p>使用powershell或其他终端输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lxrunoffline i -n &lt;WSL名称&gt; -d &lt;安装路径&gt; -f &lt;安装包路径&gt;.tar.gz</span><br></pre></td></tr></table></figure>

<p>eg：在「D:\Ubuntu」中安装名为「Ubuntu1804」且安装包位于「D:\Ubuntu\prep\」之下的镜像，其命令为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lxrunoffline i -n Ubuntu1804 -d D:\Ubuntu -f D:\Ubuntu\prep\install.tar.gz</span><br></pre></td></tr></table></figure>

<p>等待片刻，即可完成自定义安装Ubuntu。</p>
<p><strong>设置密码</strong></p>
<p>在此，我采用默认root用户进行操作，输入以下命令设置密码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure>

<p><strong>换源</strong></p>
<p>在换源之前我挂了全局代理，奇怪的是速度依然跑不上去。无奈换源</p>
<p>备份源文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp &#x2F;etc&#x2F;apt&#x2F;sources.list &#x2F;etc&#x2F;apt&#x2F;sources.list.bak</span><br></pre></td></tr></table></figure>

<p>修改源为国内阿里云</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo vim &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-security main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-updates main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-backports main restricted universe multiverse</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu&#x2F; bionic-proposed main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<p>在此可以通过「Everything」或「uTools」快速定位*<strong>sources.list*</strong></p>
<p><strong>更新和升级</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br><span class="line">sudo apt-get autoremove</span><br></pre></td></tr></table></figure>

<p><strong>安装xfce和xrdp并修改端口</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install xorg</span><br><span class="line">sudo apt-get install xfce4</span><br><span class="line">sudo apt-get install xrdp</span><br><span class="line">sudo sed -i &#39;s&#x2F;port&#x3D;3389&#x2F;port&#x3D;3390&#x2F;g&#39; &#x2F;etc&#x2F;xrdp&#x2F;xrdp.ini</span><br><span class="line">sudo echo xfce4-session &gt;~&#x2F;.xsession</span><br><span class="line">sudo service xrdp restart</span><br></pre></td></tr></table></figure>

<p><img src="https://version2.oss-cn-hangzhou.aliyuncs.com/img/20200403/image-20200403205653292.png" alt="image-20200403205653292"></p>
<hr>
<h2 id="参考文章："><a href="#参考文章：" class="headerlink" title="参考文章："></a><strong>参考文章：</strong></h2><p><a target="_blank" rel="noopener" href="http://www.fanyingjie.com/cn/2019/11/win_linux/">http://www.fanyingjie.com/cn/2019/11/win_linux/</a></p>
<p><a target="_blank" rel="noopener" href="https://p3terx.com/archives/manage-wsl-with-lxrunoffline.html#E5AE89E8A385LxRunOffline">https://p3terx.com/archives/manage-wsl-with-lxrunoffline.html#E5AE89E8A385LxRunOffline</a></p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二〇年四月三日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/03/10/writing-itself/">让写作回归于写作本身</a>
        </div>
        <div class="post-content">
            
            <p>随着年岁的增长，「极简主义」渐渐覆盖了对事物总的看法和认知。</p>
<p>即使在重装系统的工具上也发生了根本性的改变：不再采用任何pe工具，也不再采用任何第三方分区工具，甚至一度想放弃Windows转而投身Manjaro。最后，Rufus和Windows自带的「磁盘管理」成为了最佳选择，当然，还包括了最精简的Windows 10——ltsc。</p>
<p>在尝试过wordpress，自建springboot-vue博客，hexo-next后，发现自己的问题并不是在外观、主题、插件本身，繁杂冗余的一切杂项无形中会影响写作的效率。有舍才有得，今后的热河，舍弃了包括但不限于访客统计，Google AdSense，音乐，画廊(另有gallery.hismaplestory.online陈列我本人的摄影作品，尚在建设)等等等等。最终选择了 saki.li，希望今后再也不会纠结于写作之外，专注于写作本身。当然，也要对看到这些文字的你说声抱歉，由于太多原因，「被禁忌的游戏」即日起停止服务，如果你需要相关信息，那么邮件至Z21haWw1QHFxLmNvbQ==将会得到不错的建议。</p>
<p>让写作回归于写作本身，在「多事之年」的2020，希望看到这些文字的你，保重身体。</p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二〇年三月十日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2020/01/01/vomitus/">呕吐物</a>
        </div>
        <div class="post-content">
            
            <p>4oCLCeS7luW5s+mdmeS4reiHquingeeBtemtguaxuea2jOOAggoK4oCLCeaXtuiHs+S7iuaXpeW3suWcqOS6uuS4lua8q+a8q+S6jOWNgei9veacieS9me+8jOWRleWQkOeahOasoeaVsOacquacieiusOi9veS9huWcqOaYoOWDj+S4reS4jeaYr+W+iOWkmuOAguaBkOaYr+Wkqui/h+eVmeaBi+aVheS5oeeogOWlh+eahOWPr+S7peimhuebluakjeiiq+eahOWkp+mbqu+8jOiEkea1t+mHjOS7heacieeahOS4gOasoeaZlei9puWRleWQkOeahOiusOW/huS4jumCo+asoeaXheeoi+acieWFs+OAguivtOaYr+aXheeoi++8jOS4jei/h+WwseaYr+iusOS6i+i1t+S4uuaVsOS4jeWkmueahOebuOWvuea4qemmqOWutuW6reeUn+a0u+mHjOeahOS4gOasoeWbnuWutu+8jOS4jei/h+aXoueEtuaJk+S4iuS6hua4qemmqOeahOagh+etvu+8jOaDs+adpeS5n+S4jeS8muWSjOWRleWQkOacieS9leWFs+iBlOOAguWPr+iDveaYr+ebrueahOWcsOmDveaYr+mCo+S4quawuOi/nOactOWunu+8jOS4peWvkumHjOiiq+eis+eBsOeDmOeGn+eahOa0i+iKi+aJgOe7meS6iOeahOawuOi/nOaaluiJsuiwg+eahOS5oemVh++8jOS5n+aYr+mqqOWtkOmHjOawuOi/nOeahOeyvuelnuWQkeW+gO+8jOS4gOS4quS6pOWPieiusOW/hue9ouOAggoK4oCLCeivtOiKsee+juWwseS8muacieS6uuivtOKAnOS5n+acieS4jee+jueahOiKseKAne+8jOmihOaDs+WIsOS8muaciei/meenjeaKseaAqOS6juaYr+WGmeKAnOaXouaciee+juS4veeahOiKseS5n+acieS4jee+jueahOiKsSLvvIzov5nlt7Lnu4/mmK/lup/or53kuobvvIwg6K6p5omA5pyJ5Lq66YO96K6k5ZCM55qE5paH5a2X56ew5LiN5LiK6KGo6L6+IO+8jOihqOi+vumcgOimgeWLh+awlOOAggoK4oCLCeKAneeDreays+KAnCDnmoTliJ3oobfmraPmmK/kuLrkuoborqnoh6rlt7HmraPop4bkuIDkupvoqIDorrrkvJrluKbmnaXnmoTnp4HkurrlkI7mnpzku47ogIzpmZDliLboh6rlt7HnmoTmgJ3nu6rlj4rlhbbkuqfnianvvIzli4fkuo7ooajovr7jgIIKCuKAiwnkuIrkuIrmrKHlkZXlkJDmmK/kuIDmrKHnpZ7nu4/mgKflkZXlkJDjgILmiJDlm6Dkuo7nn63ml7bpl7TlhoXmkYTlhaXov4fph4/pppnng58g77yM5piv5bC85Y+k5LiB5Lit5q+S55qE55eF55CG6KGo546w5LmL5LiA77yM5L+X56ew6YaJ54Of44CC6YaJ54Of5Li76KaB6KGo546w5Li65aS05pmV5oG25b+D77yM5pyJ5by654OI55qE5ZGV5ZCQ5oSf77yM5ous57qm6IKM5p2+5byb77yM5YWo6Lqr5peg5Yqb77yM5Lya5pyJ5aSn5bCP5L6/5aSx56aB55qE546w6LGh44CC5LiA6Iis5oyB57ut5Y2B5Yeg5YiG6ZKf77yM6YeN6ICF5Lya5Y2x5Y+K55Sf5ZG944CC56Gs6KaB5b2S5Zug55qE6K+d77yM5LiN5YGl5YWo55qE5Lq65qC877yM57G76L+r5a6z5aaE5oOz55qE5pWP5oSf56We57uP77yM5a+55pei5a6a5LqL5a6e5LuN5oqx5pyJ5LiA5Lid5bm75oOz562J562J5ZCn44CC6YKj5qyh5ZGV5ZCQ5ZCO77yM5Y2z5ZGK6K+r6Ieq5bex5YaN5Lmf5LiN6KaB6L+H6YeP5oq954Of44CCCgrigIsJ5LiK5qyh5ZGV5ZCQ5p2l5rqQ5LqO5oCl5oCn6YWS57K+5Lit5q+S44CCIOS4gOasoeaRhOWFpeWkp+mHj+mFkueyvu+8iOS5memGh++8ieWQjuWPkeeUn+eahOacuuS9k+acuuiDveW8guW4uOeKtuaAge+8jOWvueelnue7j+ezu+e7n+WSjOiCneiEj+S8pOWus+acgOS4pemHjeOAguWMu+WtpuS4iuWwhuWFtuWIhuS4uuaApeaAp+S4reavkuWSjOaFouaAp+S4reavkuS4pOenje+8jOWJjeiAheWPr+WcqOefreaXtumXtOWGhee7meaCo+iAheW4puadpei+g+Wkp+S8pOWus++8jOeUmuiHs+WPr+S7peebtOaOpeaIlumXtOaOpeWvvOiHtOatu+S6oeOAguS4quS6uuaEn+iniemGieeDn+WSjOmGiemFkueahOmavuWPl+eoi+W6puS4jeWxnuS4gOS4quaVsOmHj+e6p+OAgumGiemFkuWRleWQkOi/h+WQjuWxheeEtuWPiOiDveWbnuWIsOmFkuahjO+8jOWGjeasoemlrumFku+8jOiAjOmGieeDn+WRleWQkO+8jOiDveiuqeS9oOaEn+WPl+WIsOexu+a/kuatu+aEn+aIluiAheivtOaYr++8jOa/kuatu+aEn+OAggoK4oCLCeaYqOWkqeaYrzIx5LiW57qqMTDlubTku6PnmoTmnIDlkI7kuIDlpKnvvIzotormnaXotorlpJrnmoTnjrDku6PkurrlsIblhYPml6bkuI7ov4flubTmt7fkuLrkuIDosIjjgILkvYblnKjmiJHnmoTop4Llv7Xph4zvvIzkvKDnu5/lhpzljobmlrDlubTlsIbkuIDnm7TkvZzkuLroh6rlt7HnmoTnuqrlubTmlrnlvI/vvIzov5nkuZ/orqnmiJHkuI7lkajlm7Tkurrlr7nigJ3lhYPml6bigJzov5nkuKrkvLzmmK/ogIzpnZ7nmoToioLml6XmnInmiKrnhLbkuI3lkIznmoTnnIvms5Xlj4rooYzliqjjgILlpKflpJrmlbDkurrku6zpg73pmbflhaXliLDlubTku6PkuqTmm7/vvIzkuIfosaHmm7TmlrDnmoTllpzluobkuYvkuK3jgILln47luILnmoTkuLvopoHooZfpgZPovabovobmjpLooYzvvIzllYblnLrkurrlo7DpvI7msrjvvIzmkanogqnmjqXouLXjgILmnKrog73lhY3kv5fvvIzmu6HotrPlj6PohbnkuYvmrLLlkI7lho3kuZ/kuI3mg7PkuI7pl7nluILmnInku7vkvZXkuqTpm4bvvIzliqDkuYvmoKHop4TmnInnuqbvvIzkvr/pgZPkuIDlo7DigJ3lhYPml6blv6vkuZDigJzvvIzml6nml6nlvZLlr53jgIIKCuKAiwnml6XljobnqIvluo/lgZrov4foh6rlop7kuYvlkI7vvIzlrqTlj4vmj5Dorq7pmLPlj7Dmir3ng5/jgILkuI3nn6XkvZXmlYXpmo/lo7DpmYTlkozvvIzkvr/luKbmnaXkuobov5nmrKHlkZXlkJDjgILnrKzkuIDmoLnng5/miJHnnIvliLDnnLzliY3muoPotKXnmoTmoJHlubLvvIznnIvliLDmsqHmnInkuIDpopfmmJ/mmJ/nmoTpu5HlpJzlkozngbzkurrnmoTngavnuqLjgILnrKzkuozmoLnng5/miJHnnIvliLDpgJ3ljrvnmoTkurLkurrvvIznnIvliLDog4zlj5vnmoTlqZrlp7vvvIznnIvliLDmsLjml6DmraLlooPnmoTkuonlkLXvvIznnIvliLDmnaXljrvml6XmnJ/mmI7kuobnmoTovabnpajvvIznnIvliLDotKrlqarnmoTlj43lmazjgILnrKzkuInmoLnng5/miJHnnIvliLDoh6rlt7HvvIzlj6/mg5zmiJHlpKrmqKHns4rkuobvvIzmiJHnnIvkuI3muIXoh6rlt7HnmoTouqvku73vvIznnIvkuI3muIXoh6rlt7HnmoTlhbPns7vvvIznnIvkuI3muIXoh6rlt7HkuLrkvZXlnKjmraTlpITml6Dnl4XlkbvlkJ/jgILmsqHnrYnnrKzkuInmoLnng5/mir3lrozvvIzmiJHlt7Lnu4/nn6XpgZPoh6rlt7HljbPlsIbph43ouYjopobovpnvvIzkvIHlm77pgJrov4flnZDkuIvmnaXpmLvmraLni7zni4jnmoTlj5HnlJ/vvIzlj6/mmK/ohb/pg6jnmoTogozogonorrDlv4bmnIDnm7Tnmb3kuI3ov4fkuobjgIIKCuKAiwnlsJrlpITmtojljJbpmLbmrrXnmoTpo5/niankvLTpmo/og4Pphbjnu4/nlLHog4PogqDpgZPlkozmtojljJbpgZPmtozlh7rvvIzlkYror4nlj6PohZTlkozlpKfohJHlrr/kuLvmraPnu4/ljoblvLrng4jnmoTlupTmv4Dlj43lupTjgILpnaLlr7nlj6/og73nmoTmrbvkuqHml7bkurrnsbvml6DorrrlpoLkvZXkuZ/pmr7mjqnmnIDnnJ/lrp7nmoTmgZDmg6fvvIzigJ3ml7bpl7TigJzlnKjmhI/or4bph4zkuI3mlq3ph43lpI3vvIzlh7rnlJ/jgIHmrbvkuqHjgIHnu5PlqZrjgIHnprvlqZrjgIHniLbmr43jgIHlrZDlpbPjgIHnlLfkurrjgIHlpbPkurrjgILkuIDkuKrlj4jkuIDkuKrlj5HnlJ/miJbmnKrlj5HnlJ/nmoTlvbHlg4/lnKjmnoHnn63nmoTml7bpl7Tph4zot4PliqjvvIzmg7PliLDoh6rlt7HljbPlsIbliaXnprvmiYDmnInnmoTkuIDliIfvvIznm7jkv6HmiJHvvIzlho3lnZrlvLrnmoTkurrmraTliLvkuZ/kvJrmtYHkuIvnlJ/nkIbmgKfnmoTms6rmsLTvvIzogIzpgqPkupvlj6/mgJznmoTmh6blvLHogIXml6nlt7LlsJ3liLDkuobms6rohbrmiYDkuojnmoTlkrjlkbPjgIIKCuKAiwnlnKjpgqPkuYvlkI7vvIzmnLrkvZPkvJrmhJ/lj5fliLDotoXkuY7lr7vluLjnmoTlubPpnZnvvIzlroHpnZnvvIzmr4/lpKnpg73kvJrmiormiYvmnLrlhbPmnLrmlL7lnKjohJrovrnnmoTplb/kuYXkuaDmg6/lnKjov5nnp43lubPpnZnpnaLliY3kuI3loKrkuIDlh7vvvIzmjqXkuIvmnaXmmK/oh6rnhLbogIznhLbnmoTnnaHnnKDku6Xlj4rmnKznr4fmlofnq6DjgIIKCuKAiwnop4bnur/lj6/op4HojIPlm7TlhoXlj4jlpJrkuobkuIDmoLnnmb3lj5HvvIzoh6rlt7Hlrp7lnKjmi5TkuI3kuIvmnaXvvIzkuZ/msqHkurrluK7miJHmi5TkuIvmnaXjgIIKCg==</p>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇二〇年一月一日</span>
        </div>
    </article>
    
    <article class="post">
        <div class="post-title">
            <a class="post-title-link" href="/2019/11/01/Ordained/">《受戒》</a>
        </div>
        <div class="post-content">
            
            <blockquote>
<p>《大淖记事》为汪曾祺的经典小说精选集。</p>
<p>《大淖记事》书中所收录篇目，皆是对汪曾祺中短篇小说多次遴选后得出的精品。其中包括《大淖记事》《邂逅》《老鲁》《看水》《七里茶坊》等名篇。</p>
<p>《大淖记事》中，汪曾祺的小说充溢着“中国味儿”，充溢着对传统文化的挚爱，在创作上追求回到现实主义，回到民族传统中去。他的小说让读者重新发现了民族心灵、性灵以及传统美德。</p>
<p>此处的《大淖记事》指ISBN为9787506389310的小说精选集，本文为其中《受戒》的读书笔记</p>
</blockquote>
<h1 id="字词"><a href="#字词" class="headerlink" title="字词"></a>字词</h1><h4 id="宝刹【bao-cha】"><a href="#宝刹【bao-cha】" class="headerlink" title="宝刹【bǎo chà】"></a>宝刹【bǎo chà】</h4><p>—— 诸佛的国土或其教化的国土的敬称； 敬辞，称僧尼所在的寺庙。</p>
<p>“宝刹何处？”——“荸荠庵。“ 愚见取意二。</p>
<h4 id="劁"><a href="#劁" class="headerlink" title="劁"></a>劁</h4><p>（一）qiáo 割。《齐民要术·收种》：“选好穗纯色者，~刈高悬之。”</p>
<p>（二）qiāo 阉割。~猪。</p>
<h4 id="放瑜伽焰口，拜梁皇忏"><a href="#放瑜伽焰口，拜梁皇忏" class="headerlink" title="放瑜伽焰口，拜梁皇忏"></a>放瑜伽焰口，拜梁皇忏</h4><p>瑜伽焰口——佛事仪式。施放焰口，能令饿鬼得度，也是对亡者追荐的佛事之一。除了施舍食物，以解除饿鬼的饥虚之外，最重要的是为他们说法、皈依、授戒，令其具足正见，不再造罪受苦，以祈早日脱离苦趣，成就菩提。 拜忏 ——忏悔。梁皇宝忏即《 慈悲道场忏法 》。</p>
<h4 id="面如朗月，声如钟磬"><a href="#面如朗月，声如钟磬" class="headerlink" title="面如朗月，声如钟磬"></a>面如朗月，声如钟磬</h4><p>形容男子样貌</p>
<h4 id="穿堂"><a href="#穿堂" class="headerlink" title="穿堂"></a>穿堂</h4><p>指宅院中，座落在前后两个庭院之间可以穿行的厅堂。</p>
<h4 id="韦驮【wei-tuo-】"><a href="#韦驮【wei-tuo-】" class="headerlink" title="韦驮【wéi tuó 】"></a>韦驮【wéi tuó 】</h4><p>韦驮又名韦驮天，本是婆罗门的天神，后来被佛教吸收为护法诸天之一。在中国寺院通常将之安置在天王大殿弥勒菩萨之后，面对着释迦牟尼佛像。</p>
<h4 id="龛【kan】"><a href="#龛【kan】" class="headerlink" title="龛【kān】"></a>龛【kān】</h4><p>供奉神位、佛像等的小阁子。</p>
<h4 id="炉香乍爇【-ruo-】-法界蒙薰-诸佛现金身"><a href="#炉香乍爇【-ruo-】-法界蒙薰-诸佛现金身" class="headerlink" title="炉香乍爇【 ruò 】 法界蒙薰 诸佛现金身"></a>炉香乍爇【 ruò 】 法界蒙薰 诸佛现金身</h4><p>佛语。“ 炉香乍爇 法界蒙熏 诸佛海会悉遥闻 随处结祥云 诚意方殷 诸佛现全身 ” 香炉里头的香，刚刚烧起来。所有的十方无穷无尽的世界，就都受到了这个香气的熏了。许多的佛，同了像海这样大的法会，都远远的闻到这个香气。 香烧出来的烟，随便什么地方，都结成功了吉祥的云。 烧香的人，刚刚动了至诚恳切的念头。 就感动了许多的佛，现出全身来了。见于文中明海与舅舅仁山念早经的场景。</p>
<h4 id="水蓼【liao】"><a href="#水蓼【liao】" class="headerlink" title="水蓼【liǎo】"></a>水蓼【liǎo】</h4><p>一年生草本植物</p>
<h4 id="“-逢寺挂褡-”"><a href="#“-逢寺挂褡-”" class="headerlink" title="“ 逢寺挂褡 ”"></a>“ 逢寺挂褡 ”</h4><p>“就是在庙里住。有斋就吃。”</p>
<h4 id="肐膝【ge】"><a href="#肐膝【ge】" class="headerlink" title="肐膝【gē】"></a>肐膝【gē】</h4><p>膝盖</p>
<h1 id="随笔"><a href="#随笔" class="headerlink" title="随笔"></a>随笔</h1><h3 id="读"><a href="#读" class="headerlink" title="读"></a>读</h3><p>明海九岁出家。 “宝刹何处？”——“荸荠庵。”</p>
<blockquote>
<p>明海在家叫小明子。他是从小就确定要出家的。他的家乡不叫“出家”，叫“当和尚”。他的家乡出和尚。就像有的地方出劁猪的，有的地方出织席子的，有的地方出箍桶的，有的地方出弹棉花的，有的地方出画匠，有的地方出婊子，他的家乡出和尚。</p>
</blockquote>
<p>「出家」与「当和尚」，似乎出家更加虔诚，和尚像官一样可以「当」，飘飘然的身份好像也就跌下神坛了。婊子和和尚在文章开头一先一后出现在众多世俗职业中，实在是与众不同。那么本文中婊子和和尚会是主角吗，通读全文后，我想是的。</p>
<p>明子的舅舅就是这样一个「当」和尚的。约定的时间一到，明子便要改名明海了。大淖，”官盐店，税务局，肉铺里挂着成边的猪，一个驴子在磨芝麻，满街都是小磨香油的香味，布店，卖茉莉粉、梳头油的什么斋，卖绒花的，卖丝线的，打把式卖膏药的，吹糖人的，耍蛇的 …… “烟火气的世俗世界多么引人入胜啊，在舅舅的呵斥中，熟悉的生活就像行舟过后的烟波，一去不复返。明子在受戒后能放下这一切吗？</p>
<p>一个女人除外。</p>
<blockquote>
<p>“是你要到荸荠庵当和尚吗？” 明子点点头。 “当和尚要烧戒疤呕！你不怕？” 明子不知道怎么回答，就含含糊糊地摇了摇头。 “你叫什么？” “明海。” “在家的时候？” “叫明子。” “明子！我叫小英子！我们是邻居。我家挨着荸荠庵。——给你！” 小英子把吃剩的半个莲蓬扔给明海，小明子就剥开莲蓬壳，一颗一颗吃起来。 大伯一桨一桨地划着，只听见船桨拨水的声音：“哗——许！哗——许！” </p>
</blockquote>
<p> 和尚与婊子会是明子和小英子吗。</p>
<p>”一花一世界 三藐三菩提“——荸荠庵到了。荸荠庵共有六人， 连<strong>明海</strong>在内，五个和尚。 这五个和尚似与人们映像中寻常的和尚不太一样：<strong>老和尚普照</strong>” 一天关在房里，就是那“一花一世界”里。也看不见他念佛，只是那么一声不响地坐着。他是吃斋的，过年时除外。“；<strong>大师傅仁山</strong>” 即明子的舅舅，是当家的。不叫“方丈”，也不叫“住持”，却叫“当家的”，是很有道理的，因为他确确实实干的是当家的职务。他屋里摆的是一张帐桌，桌子上放的是帐簿和算盘。帐簿共有三本。一本是经帐，一本是租帐，一本是债帐。 “或许还因为仁山相貌黄、胖，声似母猪，打牌老输，不穿袈裟。到底是方丈还是当家的，明眼人不难给出答案。说这荸荠庵有六人却只有五个和尚，剩下一人是谁呢？—— <strong>二师傅仁海</strong>的老婆。” 这两口子都很爱干净，整天的洗涮。傍晚的时候，坐在天井里乘凉。 白天，闷在屋里不出来。“ 闷在屋子里干什么呢，小孩子也许不知道。<strong>三师傅仁渡</strong>聪明精干，” 经忏俱通 ，身怀绝技 “，”会飞铙，会放让大姑娘小媳妇失踪的花焰口 “人们说仁渡有不止一个相好的，可是在荸荠庵里，仁渡” 看到姑娘媳妇总是老老实实的，连一句玩笑话都不说，一句小调山歌都不唱 “。情不过的时候会唱这样的安徽小调：</p>
<blockquote>
<p>姐和小郎打大麦，一转子讲得听不得。 听不得就听不得， 打完了大麦打小麦 。…… 姐儿生得漂漂的，两个奶子翘翘的。 有心上去摸一把， 心里有点跳跳的</p>
</blockquote>
<blockquote>
<p>他们吃肉不瞒人。年下也杀猪。杀猪就在大殿上。一切都和在家人一样，开水、木桶、尖刀。捆猪的时候，猪也是没命地叫。跟在家人不同的，是多一道仪式，要给即将升天的猪念一道“往生咒”，并且总是老师叔念，神情很庄重：“……一切胎生、卵生、息生，来从虚空来，还归虚空去往生再世，皆当欢喜。南无阿弥陀佛！” 三师父仁渡一刀子下去，鲜红的猪血就带着很多沫子喷出来。</p>
<p><strong>明子曾经跟这位正经人(寺院常客)要过铜蜻蜓看看。他拿到小英子家门前试了一试，果然！小英的娘知道了，骂明子：“要死了！儿子！你怎么到我家来玩铜蜻蜓了！”小英子跑过来： “给我！给我！” 她也试了试，真灵，一个黑母鸡一下子就把嘴撑住，傻了眼了！</strong></p>
</blockquote>
<p>” 向阳门第春常在 积善人家庆有余 “这里便是明子常去的小英子家了。小英子家四口人，” 赵大伯、赵大妈，两个女儿，大英子、小英子。老两口没得儿子。“为了提高大英子的绣花水平，小英子给赵大妈”保举“了一个人，不偏不倚，正是会画画的明子。</p>
<blockquote>
<p>小英子把明海请到家里来，给他磨墨铺纸，小和尚画了几张，大英子喜欢得了不得：“就是这样！就是这样！这就可以乱孱！ ……小英子就像个书童，又像个参谋：“画一朵石榴花！” “画一朵栀子花！” 她把花掐来，明海就照着画。 到后来，凤仙花、石竹子、水蓼、淡竹叶，天竺果子、腊梅花，他都能画。 大娘看着也喜欢，搂住明海的和尚头：“你真聪明！你给我当一个干儿子吧！” 小英子捺住他的肩膀，说：“快叫！快叫！” 小明子跪在地下磕了一个头，从此就叫小英子的娘做干娘。…… 每回明子来画花，小英子就给他做点好吃的，煮两个鸡蛋，蒸一碗芋头，煎几个藕团子。 因为照顾姐姐赶嫁妆，田里的零碎生活小英子就全包了。她的帮手，是明子。…… 薅三遍草的时候，秧已经很高了，低下头看不见人。一听见非常脆亮的嗓子在一片浓绿里唱：栀子哎开花哎六瓣头哎……姐家哎门前哎一道桥哎……明海就知道小英子在哪里，三步两步就赶到，赶到就低头薅起草来，傍晚牵牛“打汪”，是明子的事。——水牛怕蚊子。这里的习惯，牛卸了轭，饮了水，就牵到一口和好泥水的“汪”里，由它自己打滚扑腾，弄得全身都是泥浆，这样蚊子就咬不通了。低田上水，只要一挂十四轧的水车，两个人车半天就够了。明子和小英子就伏在车杠上，不紧不慢地踩着车轴上的拐子，轻轻地唱着明海向三师父学来的各处山歌。打场的时候，明子能替赵大伯一会，让他回家吃饭。——赵家自己没有场，每年都在荸荠庵外面的场上打谷子。他一扬鞭子，喊起了打场号子： “格当XX——” 这打场号子有音无字，可是九转十三弯，比什么山歌号子都好听。赵大娘在家，听见明子的号子，就侧起耳朵：“这孩子这条嗓子！” 连大英子也停下针线：“真好听！” 小英子非常骄傲地说：“一十三省数第一！” </p>
</blockquote>
<p>晚上，他们一起看场。——荸荠庵收来的租稻也晒在场上。他们并肩坐在一个石磙子上，听青蛙打鼓，听寒蛇唱歌，——这个地方以为蝼蛄叫是蚯蚓叫，而且叫蚯蚓叫“寒蛇”，听纺纱婆子不停地纺纱，“XX——”，看萤火虫飞来飞去，看天上的流星。 “呀！我忘了在裤带上打一个结！”小英子说。 这里的人相信，在流星掉下来的时候在裤带上打一个结，心里想什么好事，就能如愿。</p>
<p>她老是故意用自己的光脚去踩明子的脚。 她挎着一篮子荸荠回去了，在柔软的田埂上留了一串脚印。明海看着她的脚印，傻了。五个小小的趾头，脚掌平平的，脚跟细细的，脚弓部分缺了一块。明海身上有一种从来没有过的感觉，他觉得心里痒痒的。这一串美丽的脚印把小和尚的心搞乱了。 </p>
<p>从庵赵庄到县城，当中要经过一片很大的芦花荡子。芦苇长得密密的，当中一条水路，四边不见人。划到这里，明子总是无端端地觉得心里很紧张，他就使劲地划桨。 小英子喊起来： “明子！明子！你怎么啦？你发疯啦？为什么划得这么快？”……</p>
<p>明子要去善因寺受戒了。受过戒的明海要被选为” 沙弥尾 “。” 沙弥尾 “可是要一直待在庙里当方丈的。</p>
<blockquote>
<p>“你当沙弥尾吗？” “还不一定哪。” “你当方丈，管善因寺？管这么大一个庙？！” “还早呐！” 划了一气，小英子说：“你不要当方丈！” “好，不当。” “你也不要当沙弥尾！” “好，不当。” </p>
</blockquote>
<p>又划了一气，看见那一片芦花荡子了。 小英子忽然把桨放下，走到船尾，趴在明子的耳朵旁边，小声地说：</p>
<blockquote>
<p>“我给你当老婆，你要不要？” 明子眼睛鼓得大大的。 “你说话呀！” 明子说：“嗯。” “什么叫‘嗯’呀！要不要，要不要？” 明子大声地说：“要！” “你喊什么！” 明子小小声说：“要——！” “快点划！” </p>
</blockquote>
<h3 id="想"><a href="#想" class="headerlink" title="想"></a>想</h3><p> <strong>待续</strong></p>
<p>本想另起一篇，让本篇专注于《受戒》的读书笔记。罢了，如果不是翻开书本想必自己也不会或者说也懒得开始写文，何况在这里，我也是免于“受戒”的。</p>
<p>重拾书本已是三年之后了。三年前稀里糊涂误打误撞完成了文科男到程序员的转变，然而，人们总是在变的。闲适懒散的性格注定了我无法在节奏极快的高压环境下获得身心的满足。我喜爱编程，喜爱在调通代码后的很多个清晨午后深夜，创造带给人精神层面的愉悦是一切物质享受所不可媲美的。</p>
<p>可是我还是倦了。</p>
<p>种种迹象表面，我对计算机事业是时候深入浅出了。越来越多的内因外因，量变引起质变，权衡利弊后，我最终决定转向。放弃自己倾注三年的专业，有的人可能会觉得后悔，有的人可能会觉得惋惜，有的人则长期处于焦虑，举棋不定。“东隅已逝，桑榆非晚。”这句话其实是有一个时间节点的，好在目前尚处大三，还有回旋的余地。</p>
<p>我没有浅尝辄止，我尊重并且愈发肯定自己的选择。</p>
<blockquote>
<p>英子跳到中舱，两只桨飞快地划起来，划进了芦花荡。芦花才吐新穗。紫灰色的芦穗，发着银光，软软的，滑溜溜的，像一串丝线。有的地方结了蒲棒，通红的，像一枝一枝小蜡烛。青浮萍，紫浮萍。长脚蚊子，水蜘蛛。野菱角开着四瓣的小白花。惊起一只青桩（一种水鸟），擦着芦穗，扑鲁鲁鲁飞远了。</p>
</blockquote>

            
        </div>
        <div class="post-meta">
            
            <span class="post-time">二〇一九年十一月一日</span>
        </div>
    </article>
    
</section>

<script>
    var Home = location.href,
    xhr,
    xhrUrl = '';

    var Diaspora = {
        L: function(url, f, err) {
            if (url == xhrUrl) {
                return false;
            }
            xhrUrl = url;
            if (xhr) {
                xhr.abort();
            }
            xhr = $.ajax({
                type: 'GET',
                url: url,
                timeout: 10000,
                success: function(data) {
                    f(data);
                    xhrUrl = '';
                },
                error: function(a, b, c) {
                    if (b == 'abort') {
                        err && err()
                    } else {
                        window.location.href = url;
                    }
                    xhrUrl = '';
                }
            });
        },
        loading: function() {
            var w = window.innerWidth;
            var css = '<style class="loaderstyle" id="loaderstyle'+ w +'">'+
                '@-moz-keyframes loader'+ w +'{100%{background-position:'+ w +'px 0}}'+
                '@-webkit-keyframes loader'+ w +'{100%{background-position:'+ w +'px 0}}'+
                '.loader'+ w +'{-webkit-animation:loader'+ w +' 3s linear infinite;-moz-animation:loader'+ w +' 3s linear infinite;}'+
                '</style>';
            $('.loaderstyle').remove()
            $('head').append(css)
            $('#loader').removeClass().addClass('loader'+ w).show()
        },
        loaded: function() {
            $('#loader').removeClass().hide()
        }
    };

    $(function() {
        $('body').on('click', function(e) {
            var tag = $(e.target).attr('class') || '',
                rel = $(e.target).attr('rel') || '';
            if (!tag && !rel) return;
            switch (true) {
                // next page
                case (tag.indexOf('more') != -1):
                    tag = $('.more');
                    if (tag.data('status') == 'loading') {
                        return false
                    }
                    var num = parseInt(tag.data('page')) || 1;
                    if (num == 1) {
                        tag.data('page', 1)
                    }
                    tag.html("加载中...").data('status', 'loading')
                    Diaspora.loading()
                    Diaspora.L(tag.attr('href'), function(data) {
                        tag.hide();
                        $('.license').hide();
                        var link = $(data).find('.more').attr('href');
                        if (link != undefined) {
                            tag.attr('href', link).html("旧文").data('status', 'loaded')
                            tag.data('page', parseInt(tag.data('page')) + 1)
                        } else {
                            $('body').remove()
                        }
                        var tempScrollTop = $(window).scrollTop();
                        $('body').append($(data).find('.posts'))
                        $(window).scrollTop(tempScrollTop + 100);
                        Diaspora.loaded()
                        //$('html,body').animate({ scrollTop: tempScrollTop + 400 }, 500);
                        if (link !== '/') {
                            $('body').append($(data).find('.page-nav'))
                        }
                        $('body').append($(data).find('.license'))
                    }, function() {
                        tag.html("旧文").data('status', 'loaded')
                    })
                    return false;
                    break;
                default:
                    return true;
                    break;
            }
        });
    })
</script>

<nav class="page-nav">
  <a href="/page/2/" class="more">旧文</a>
</nav>

<p class="license">本站文章使用 CC BY-NC-SA 4.0 许可证</p>
    </main>
</body>

</html>